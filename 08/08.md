# 情報科学08

## オブジェクトとクラス

オブジェクトとクラスは:

- オブジェクト
  - クラス内の実際のインスタンス
  - 実際にメモリ上に確保された実態のことを指す

- クラス
  - 変数とメソッドを持つ、集合体データ型
  - ユーザ定義型の**状態・操作・変数・メソッド**を集めた型のテンプレート
  - オブジェクト作成のためのテンプレート



## クラスの定義

```java
[クラス修飾子] class [クラス名] {
  /* メンバ変数 */

  /* メソッド */


}
```


クラス修飾子は:

- `public`: どこからでもアクセス可能
- `final`: 継承できない
- `abstract`: インスタンス化できない。抽象化

クラス名の1文字目は大文字が慣習である。

## メソッドの定義

```java
[メソッド修飾子] 戻り値の型 メソッド名 (引数リスト) {

}
```


メソッド修飾子は:
- `public`: どこからでもアクセス可能
- `private`: 同一クラスからのみアクセス可能
- `protected`: 同一クラス・パッケージ、サブクラスからのみアクセス可能
- `abstract`: 抽象メソッドで実装はしない
- `final`: オーバーライドできない
- `static`: 静的メソッド
- `native`: Java言語以外での実装
- `synchronized`: ロックの取得で同時アクセスを防止する

```java
public class MyPoint {
  private int x, y;

  public void display() {
  	// print x,y
  	System.out.println("x: " + x);
  	System.out.println("y: " + y);
  }
}
```

## オブジェクト生成

クラスからインスタンスを生成する際には`new`を用いる。

```java
// クラス名 変数名 = new クラス呼び出し
MyPoint obj = new MyPoint();
```

## メンバ変数へのアクセス

作成したインスタンスに対し`.`オペレータを用いて`obj.x`や`obj.sth()`のようにする。
メンバ変数のゲッタ・セッタメソッドを書いておくといい。

## 参照データ型

配列などで`int a[] = {1,2};`とするとき、`a`は参照型を持つ。

## オーバーロード

同一クラス内で同じ名前のメソッドを定義することで上書きすること

ただし:

- 型かarityが異なっていることが必要
- オーバーロードしたメソッドを呼ぶ際、その型・引数にマッチしたものが実行される

## オーバーライド

継承したサブクラスで定義された同名メソッドがスーパークラスより優先されること

## コンストラクタ

インスタンス生成時の初期化メソッドのこと。
クラス名と同名のメソッドを定義する。
また未定義だと**引数なし、実装なし**のデフォルトコンストラクタが呼ばれる

## 参照データ型

基本データ型(byte，short，int，long，float，double，char，boolean):

- 値渡しになる

クラスオブジェクトや配列などの参照型:

- 参照渡しになる

## Static変数

クラス内で`static int width;`のように定義したもの。
クラスインスタンスを用いずとも`MyPoint.width`で使用可能
(反対に、インスタンス変数では必要)

## Staticメソッド

クラス内で`static void f() { ... }`のように定義したもの
Static変数と同様にインスタンス化が不要

## Final変数

クラスでの定数宣言は`final int width = 100;`のようにすると良い。

## データ隠蔽

あるクラスのメンバ変数とメソッドに対してのアクセスを制限すること
アクセス修飾子`public`, `protected`, `private`がある

| アクセス修飾子 | 意味 |
|-----|-----|
| public | どこからでも |
| protected | 同一クラス・パッケージ、サブクラスのみ |
| (指定なし) | 同一パッケージのみ |
| private | 同一クラスのみ |


